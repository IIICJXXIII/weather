{% load static %}
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <title>{% block title %}NCDC æ°”è±¡æ•°æ®å¯è§†åŒ–å¹³å°{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/app.css' %}" />
    <link rel="stylesheet" href="{% static 'css/nav.css' %}" />
    <script src="{% static 'js/echarts.min.js' %}"></script>
    {% block extra_head %}{% endblock %}
</head>

<body class="bg06">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="main-nav">
        <div class="nav-brand">
            <a href="{% url 'home' %}">
                <span class="brand-icon">ğŸŒ¤ï¸</span>
                <span class="brand-text">NCDC æ°”è±¡æ•°æ®å¹³å°</span>
            </a>
        </div>
        <ul class="nav-menu">
            <li class="nav-item {% if active_page == 'home' %}active{% endif %}">
                <a href="{% url 'home' %}">
                    <span class="nav-icon">ğŸ“Š</span>
                    <span>æ•°æ®æ€»è§ˆ</span>
                </a>
            </li>
            <li class="nav-item {% if active_page == 'province' %}active{% endif %}">
                <a href="{% url 'province_list' %}">
                    <span class="nav-icon">ğŸ—ºï¸</span>
                    <span>çœä»½è¯¦æƒ…</span>
                </a>
            </li>
            <li class="nav-item {% if active_page == 'history' %}active{% endif %}">
                <a href="{% url 'history_query' %}">
                    <span class="nav-icon">ğŸ“…</span>
                    <span>å†å²æŸ¥è¯¢</span>
                </a>
            </li>
            <li class="nav-item {% if active_page == 'compare' %}active{% endif %}">
                <a href="{% url 'compare' %}">
                    <span class="nav-icon">âš–ï¸</span>
                    <span>æ•°æ®å¯¹æ¯”</span>
                </a>
            </li>
            <li class="nav-item {% if active_page == 'analysis' %}active{% endif %}">
                <a href="{% url 'analysis' %}">
                    <span class="nav-icon">ğŸ“ˆ</span>
                    <span>æ•°æ®åˆ†æ</span>
                </a>
            </li>
            <li class="nav-item {% if active_page == 'about' %}active{% endif %}">
                <a href="{% url 'about' %}">
                    <span class="nav-icon">â„¹ï¸</span>
                    <span>å…³äºé¡¹ç›®</span>
                </a>
            </li>
        </ul>
        <!-- ç”¨æˆ·çŠ¶æ€åŒºåŸŸ -->
        <div class="nav-user">
            {% if user.is_authenticated %}
            <a href="{% url 'user_profile' %}" class="user-avatar" title="{{ user.username }}">
                {{ user.username|slice:":1"|upper }}
            </a>
            {% else %}
            <a href="{% url 'user_login' %}" class="btn-login">ç™»å½•</a>
            {% endif %}
        </div>
        <div class="nav-toggle" id="navToggle">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
        {% block content %}{% endblock %}
    </main>

    <!-- é¡µè„š -->
    <footer class="main-footer">
        {% block footer %}
        <p>NCDC å…¨å›½æ°”è±¡æ•°æ®åˆ†æä¸å¯è§†åŒ–å¹³å° Â© 2025</p>
        {% endblock %}
    </footer>

    <!-- å…¬å…±è„šæœ¬ -->
    <script>
        // ç§»åŠ¨ç«¯å¯¼èˆªåˆ‡æ¢
        document.getElementById('navToggle').addEventListener('click', function() {
            document.querySelector('.nav-menu').classList.toggle('show');
            this.classList.toggle('active');
        });
    </script>
    {% block extra_js %}{% endblock %}
</body>
</html>
